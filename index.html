<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SANITAS VOITHOS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: #f3f8ff;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .app-frame {
      width: 100%;
      max-width: 900px;
      height: 92vh;
      background: #ffffff;
      border-radius: 28px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.08);
      border: 1px solid #e3eefb;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      margin: 0 auto;
      position: relative; /* important for panel */
    }

    /* Top header bar */
    .top-bar {
      padding: 14px 18px 0 18px;
      background: #ffffff;
    }

    .top-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .plus-btn {
      font-size: 24px;
      font-weight: 600;
      color: #1b73d1;
      user-select: none;
      cursor: pointer; /* clickable now */
    }

    .dot-menu {
      width: 4px;
      height: 18px;
      border-radius: 999px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      cursor: default;
    }

    .dot-menu span {
      width: 4px;
      height: 4px;
      border-radius: 50%;
      background: #1b73d1;
      display: block;
    }

    /* title band */
    .title-band {
      background: #d8ecff;
      border-radius: 16px;
      padding: 26px 0 30px 0;
      width: 100%;
      margin: 0 auto 16px auto;
      text-align: center;
    }

    .title-main {
      font-weight: 800;
      font-size: 40px;
      letter-spacing: 0.10em;
      color: #0c3f7f;
      text-transform: uppercase;
    }

    .title-sub {
      font-weight: 500;
      font-size: 20px;
      color: #123f70;
      margin-top: 6px;
    }

    /* main area */
    .chat-area {
      flex: 1;
      background: #ffffff;
      padding: 8px 14px 80px 14px; /* space for bottom bar */
      overflow-y: auto;
    }

    .home-grid-wrapper {
      max-width: 640px;
      margin: 4px auto 10px auto;
    }

    .grid-6 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }

    .feature-card {
      height: 92px;
      border-radius: 18px;
      border: 2px solid #88c6ff;
      background: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform 0.08s ease, box-shadow 0.08s ease;
    }

    .feature-card:active {
      transform: scale(0.97);
      box-shadow: 0 6px 14px rgba(0,0,0,0.06);
    }

    .icon-small {
      width: 26px;
      height: 26px;
      margin-bottom: 6px;
    }

    .feature-label {
      font-size: 12px;
      color: #003366;
    }

    /* Bottom search bar (fixed) */
    .bottom-bar {
      padding: 12px 16px;
      background: #ffffff;
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      max-width: 900px;
      border-top: 1px solid #e3eefb;
      z-index: 900;
    }

    .search-box {
      border-radius: 999px;
      border: 2px solid #1b73d1;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      gap: 8px;
      background: #f8fcff;
      width: 100%;
      max-width: 520px;
      margin: 0 auto;
      cursor: pointer;
    }

    .search-input {
      border: none;
      outline: none;
      background: transparent;
      width: 100%;
      font-size: 14px;
      color: #444;
      pointer-events: none;
    }

    .search-input::placeholder {
      color: #9da7b8;
    }

    .search-icon {
      font-size: 16px;
      opacity: 0.8;
    }

    @media (max-width: 600px) {
      body {
        background: #ffffff;
        align-items: stretch;
      }

      .app-frame {
        max-width: 100%;
        height: 100vh;
        border-radius: 0;
        box-shadow: none;
        border: none;
      }

      .title-main {
        font-size: 22px;
      }

      .bottom-bar {
        max-width: 100%;
      }
    }
    .profile-edit-btn {
  margin-top: 8px;
  border: none;
  background: #1b73d1;
  color: #ffffff;
  border-radius: 999px;
  padding: 6px 14px;
  font-size: 12px;
  cursor: pointer;
}

.profile-edit-card {
  border-radius: 16px;
  border: 1px solid #d6e5fb;
  background: #f8fcff;
  padding: 12px 14px 12px 14px;
  margin-bottom: 16px;
  display: none; /* hidden until Edit pressed */
}

.profile-edit-row {
  display: flex;
  flex-direction: column;
  margin-bottom: 10px;
}

.profile-edit-row label {
  font-size: 12px;
  color: #4a5770;
  margin-bottom: 4px;
}

.profile-edit-row input[type="text"] {
  border: 1px solid #c7d8f5;
  border-radius: 999px;
  padding: 8px 12px;
  font-size: 13px;
  outline: none;
}

.profile-edit-row input[type="file"] {
  font-size: 12px;
}

.profile-edit-hint {
  font-size: 11px;
  color: #7c8698;
  margin-top: 2px;
}

.profile-edit-actions {
  display: flex;
  gap: 8px;
}

.profile-edit-save,
.profile-edit-cancel {
  flex: 1;
  border-radius: 999px;
  padding: 8px 0;
  font-size: 13px;
  border: none;
  cursor: pointer;
}

.profile-edit-save {
  background: #1b73d1;
  color: #ffffff;
}

.profile-edit-cancel {
  background: #e3eefb;
  color: #123f70;
}
    
  </style>
</head>
<body>
  <div class="app-frame">
    <!-- Top header -->
    <div class="top-bar">
      <div class="top-row">
        <span class="plus-btn" onclick="openProfilePanel()">+</span>
        <div class="dot-menu">
          <span></span><span></span><span></span>
        </div>
      </div>

      <div class="title-band">
        <div class="title-main">SANITAS</div>
        <div class="title-sub">Voithos</div>
      </div>
    </div>
    /* =============== PROFILE SLIDE PANEL =============== */
.profile-panel {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #ffffff;
  box-shadow: 4px 0 22px rgba(0,0,0,0.18);
  transform: translateX(-100%);   /* <- THIS HIDES THE PANEL */
  transition: transform 0.25s ease-out;
  z-index: 9999;
  display: flex;
  flex-direction: column;
}

.profile-panel.open {
  transform: translateX(0);       /* <- SHOW ON OPEN */
}
    .profile-header {
      padding: 12px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid #e3eefb;
    }

    .profile-title {
      font-size: 15px;
      font-weight: 600;
      color: #123f70;
    }

    .profile-close {
      border: none;
      background: #f3f8ff;
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 14px;
      cursor: pointer;
    }

    .profile-content {
      flex: 1;
      padding: 16px 18px 18px 18px;
      overflow-y: auto;
    }

    .profile-user {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 18px;
    }

    .profile-avatar {
      width: 72px;
      height: 72px;
      border-radius: 50%;
      background: #e0f1ff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 30px;
      font-weight: 700;
      color: #1b73d1;
      margin-bottom: 8px;
    }

    .profile-name {
      font-size: 16px;
      font-weight: 600;
      color: #123f70;
    }

    .profile-section-label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #7c8698;
      margin-bottom: 8px;
    }

    .profile-alarm-list {
      margin-top: 6px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .profile-alarm-pill {
      border-radius: 16px;
      border: 1px solid #e3eefb;
      background: #f8fcff;
      padding: 10px 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .profile-alarm-left {
      display: flex;
      flex-direction: column;
    }

    .profile-alarm-name {
      font-weight: 600;
      color: #1b3f7a;
      font-size: 14px;
    }

    .profile-alarm-times {
      margin-top: 3px;
      color: #65718a;
      font-size: 12px;
    }

    .profile-alarm-tag {
      font-size: 10px;
      padding: 3px 8px;
      border-radius: 999px;
      background: #e0f1ff;
      color: #305c9b;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .profile-empty {
      font-size: 13px;
      color: #8a96aa;
      margin-top: 6px;
    }

    <!-- Home content -->
    <div class="chat-area">
      <div class="home-grid-wrapper">
        <div class="grid-6">
    <div class="feature-card" onclick="window.location.href='alarm.html'">
  <img src="icons/alarm.svg" class="icon-small" alt="Alarm" />
  <div class="feature-label">Alarm</div>
</div>

          <div class="feature-card">
            <img src="icons/tongue.svg" class="icon-small" alt="Tongue" />
            <div class="feature-label">Tongue</div>
          </div>

          <div class="feature-card">
            <img src="icons/face.svg" class="icon-small" alt="Face" />
            <div class="feature-label">Face</div>
          </div>

          <div class="feature-card">
            <img src="icons/tips.svg" class="icon-small" alt="Healthy Tips" />
            <div class="feature-label">Healthy Tips</div>
          </div>

          <div class="feature-card">
            <img src="icons/files.svg" class="icon-small" alt="Saved Files" />
            <div class="feature-label">Saved Files</div>
          </div>

          <div class="feature-card">
            <img src="icons/ocr.svg" class="icon-small" alt="OCR" />
            <div class="feature-label">OCR</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom search bar -->
    <div class="bottom-bar">
      <div class="search-box">
        <input
          class="search-input"
          type="text"
          placeholder="Search / Ask AI"
        />
        <span class="search-icon">üîç</span>
      </div>
    </div>
<div class="profile-user">
  <div class="profile-avatar" id="profileAvatar">S</div>
  <div class="profile-name" id="profileName">Sanitas User</div>
  <button class="profile-edit-btn" onclick="openProfileEdit()">Edit profile</button>
</div>

<!-- small card to edit name + photo -->
<div class="profile-edit-card" id="profileEditCard">
  <div class="profile-edit-row">
    <label for="profileNameInput">Name</label>
    <input id="profileNameInput" type="text" placeholder="Enter your name" />
  </div>

  <div class="profile-edit-row">
    <label for="profilePhotoInput">Photo</label>
    <input id="profilePhotoInput" type="file" accept="image/*" />
    <small class="profile-edit-hint">Square photo looks best. Optional.</small>
  </div>

  <div class="profile-edit-actions">
    <button type="button" class="profile-edit-save" onclick="saveProfileEdit()">Save</button>
    <button type="button" class="profile-edit-cancel" onclick="cancelProfileEdit()">Cancel</button>
  </div>
</div>

<div class="profile-section-label">Saved alarms</div>
<div id="profileAlarmList" class="profile-alarm-list"></div>
<div id="profileEmptyText" class="profile-empty"></div>
    <!-- PROFILE SLIDE PANEL -->

  <div class="profile-panel" id="profilePanel">
  <div class="profile-header">
    <span class="profile-title">Profile & Alarms</span>
    <button class="profile-close" onclick="closeProfilePanel()">‚úï</button>
  </div>

  <div class="profile-content">
    <div class="profile-user">
      <div class="profile-avatar" id="profileAvatar">S</div>
      <div class="profile-name" id="profileName">Sanitas User</div>
      <button class="profile-edit-btn" onclick="openProfileEdit()">Edit profile</button>
    </div>

    <div class="profile-edit-card" id="profileEditCard">
      <div class="profile-edit-row">
        <label>Name</label>
        <input id="profileNameInput" type="text" placeholder="Enter your name">
      </div>

      <div class="profile-edit-row">
        <label>Photo</label>
        <input id="profilePhotoInput" type="file" accept="image/*">
      </div>

      <div class="profile-edit-actions">
        <button class="profile-edit-save" onclick="saveProfileEdit()">Save</button>
        <button class="profile-edit-cancel" onclick="cancelProfileEdit()">Cancel</button>
      </div>
    </div>

    <div class="profile-section-label">Saved alarms</div>
    <div id="profileAlarmList" class="profile-alarm-list"></div>
    <div id="profileEmptyText" class="profile-empty"></div>
  </div>
</div>
    

  <script>
  // ===== PROFILE DATA (stored in localStorage) =====
  const PROFILE_KEY = "sanitas_profile";

  function loadProfile() {
    try {
      return JSON.parse(localStorage.getItem(PROFILE_KEY) || "{}");
    } catch (e) {
      return {};
    }
  }

  let profile = loadProfile();
  if (!profile.name) profile.name = "Sanitas User";

  function saveProfileToStorage() {
    localStorage.setItem(PROFILE_KEY, JSON.stringify(profile));
  }

  function updateProfileUI() {
    const avatar = document.getElementById("profileAvatar");
    const nameEl = document.getElementById("profileName");

    if (!avatar || !nameEl) return;

    // name
    nameEl.textContent = profile.name || "Sanitas User";

    // avatar
    if (profile.avatarDataUrl) {
      avatar.style.backgroundImage = `url(${profile.avatarDataUrl})`;
      avatar.style.backgroundSize = "cover";
      avatar.style.backgroundPosition = "center";
      avatar.textContent = ""; // no letter text
    } else {
      avatar.style.backgroundImage = "none";
      const initial =
        (profile.name || "Sanitas User").trim().charAt(0).toUpperCase() || "S";
      avatar.textContent = initial;
    }
  }

  function openProfileEdit() {
    const card = document.getElementById("profileEditCard");
    const input = document.getElementById("profileNameInput");
    if (card) card.style.display = "block";
    if (input) input.value = profile.name || "";
  }

  function cancelProfileEdit() {
    const card = document.getElementById("profileEditCard");
    if (card) card.style.display = "none";
  }

  function saveProfileEdit() {
    const nameInput = document.getElementById("profileNameInput");
    if (nameInput) {
      const newName = nameInput.value.trim();
      if (newName) profile.name = newName;
    }
    saveProfileToStorage();
    updateProfileUI();
    cancelProfileEdit();
  }

  // handle photo upload
  const photoInput = document.getElementById("profilePhotoInput");
  if (photoInput) {
    photoInput.addEventListener("change", (e) => {
      const file = e.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = () => {
        profile.avatarDataUrl = reader.result;
        saveProfileToStorage();
        updateProfileUI();
      };
      reader.readAsDataURL(file);
    });
  }

  // ===== DUMMY ALARMS (just to show UI for now) =====
  const dummyAlarms = [
    {
      patient: "Dad",
      medicine: "Metformin 500mg",
      times: "BB: 08:00 ¬∑ Night: 21:00",
    },
    {
      patient: "Mom",
      medicine: "BP Tablet",
      times: "AB: 09:30",
    },
  ];

  function openProfilePanel() {
    const panel = document.getElementById("profilePanel");
    const listDiv = document.getElementById("profileAlarmList");
    const emptyText = document.getElementById("profileEmptyText");

    // render alarms (dummy for now)
    if (dummyAlarms.length === 0) {
      listDiv.innerHTML = "";
      emptyText.textContent = "No medicine alarms yet.";
    } else {
      emptyText.textContent = "";
      let html = "";
      dummyAlarms.forEach((a) => {
        const name = a.patient ? `${a.patient} ‚Äì ${a.medicine}` : a.medicine;
        html += `
          <div class="profile-alarm-pill">
            <div class="profile-alarm-left">
              <div class="profile-alarm-name">${name}</div>
              <div class="profile-alarm-times">${a.times}</div>
            </div>
            <div class="profile-alarm-tag">MEDICINE</div>
          </div>
        `;
      });
      listDiv.innerHTML = html;
    }

    if (panel) panel.classList.add("open");
  }

  function closeProfilePanel() {
    const panel = document.getElementById("profilePanel");
    if (panel) panel.classList.remove("open");
  }

  // ===== SWIPE GESTURES (open/close profile panel) =====
  let touchStartX = null;

  // open panel: swipe from LEFT edge ‚Üí right
  document.addEventListener(
    "touchstart",
    (e) => {
      const t = e.touches[0];
      touchStartX = t.clientX;
    },
    { passive: true }
  );

  document.addEventListener(
    "touchend",
    (e) => {
      if (touchStartX === null) return;
      const t = e.changedTouches[0];
      const dx = t.clientX - touchStartX;

      if (touchStartX < 30 && dx > 60) {
        openProfilePanel();
      }
      touchStartX = null;
    },
    { passive: true }
  );

  // close panel: swipe LEFT inside the panel
  const profilePanel = document.getElementById("profilePanel");

  profilePanel.addEventListener(
    "touchstart",
    (e) => {
      const t = e.touches[0];
      touchStartX = t.clientX;
    },
    { passive: true }
  );

  profilePanel.addEventListener(
    "touchend",
    (e) => {
      if (touchStartX === null) return;
      const t = e.changedTouches[0];
      const dx = t.clientX - touchStartX;

      if (dx < -60) {
        closeProfilePanel();
      }
      touchStartX = null;
    },
    { passive: true }
  );

  // ===== INITIALIZE =====
  updateProfileUI();
  
</script>

</body>
</html>
